{"version":3,"sources":["dist/index.js"],"names":["__awaiter","this","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","value","step","next","e","rejected","result","done","then","apply","__rest","s","t","p","Object","prototype","hasOwnProperty","call","indexOf","getOwnPropertySymbols","i","length","propertyIsEnumerable","isEmpty","obj","Map","Set","size","key","defineProperty","exports","WrapRequestStream","wrapRequest","WrapRequest","__wrapRequest__","__wrapRequestDebug__","let","cache","wrapRequests","clear","contents","constructor","req","options","enumerable","configurable","writable","cacheData","getCachedData","requestParams","_$","defaultData","push","getCacheKey","params","cacheKey","JSON","stringify","checkXhrVersion","version","stateLoading","xhrVersion","request","_c","_a","throwError","_b","__ignoreXhrVersion__","ignoreCache","undefined","setFetched","error","metadata","_metadata","state","transform","xhr","assign","context","yield","$","_e","_d","parent","_f","source","loading","fetched","empty","match","handlers","default","reset","didFetch","cb","when","setTimeout","pipe","restOptions","wr","propBlackList","keys","forEach","rawKey","includes","get","set","newVal","disposeCache","super","val","invokeUpdate","invokeResolve","on","type","listener","listeners","filter","l","stream"],"mappings":"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"}